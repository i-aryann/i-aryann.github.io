<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details | Aryan Gupta</title>

    <!-- Reuse existing styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- SEO Meta Tags -->
    <meta name="description" content="Detailed overview of my data science and machine learning projects.">
    <meta name="keywords" content="Data Science, Machine Learning, Python, AI Projects, Aryan Gupta">
    <meta name="author" content="Aryan Gupta">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Project Details | Aryan Gupta">
    <meta property="og:description" content="Explore the technical details of my data science projects.">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q1ZBM2E5QR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-Q1ZBM2E5QR');
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div id="loading-state">
        <span class="loader"></span>
    </div>

    <header>
        <a href="index.html" class="logo">
            Aryan <span>| Data Scientist</span>
        </a>
        <a href="index.html#projects" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to Projects
        </a>
    </header>

    <div id="project-content" style="display: none;">
        <div class="project-hero">
            <h1 class="project-title" id="p-title"></h1>
            <p class="project-tagline" id="p-tagline"></p>

            <div class="project-meta">
                <span class="meta-item"><i class="fas fa-calendar-alt"></i> <span id="p-year"></span></span>
                <span class="meta-item"><i class="fas fa-tag"></i> <span id="p-category"></span></span>
                <span class="meta-item"><i class="fas fa-code-branch"></i> <span id="p-tech"></span></span>
            </div>

            <div class="hero-actions">
                <a href="#" class="action-btn btn-primary" id="hero-btn-demo">
                    <i class="fas fa-external-link-alt"></i> Live Demo
                </a>
                <a href="#" class="action-btn btn-secondary" id="hero-btn-github">
                    <i class="fab fa-github"></i> View Source
                </a>
            </div>
        </div>

        <div class="content-container">
            <section class="detail-section">
                <h2>Overview</h2>
                <div id="p-description"></div>
            </section>

            <section class="detail-section">
                <h2>Key Features</h2>
                <div class="feature-list" id="p-features">
                    <!-- Features injected here -->
                </div>
            </section>

            <section class="detail-section">
                <h2>Technology Stack</h2>
                <div class="tech-stack" id="p-tech-stack">
                    <!-- Tech tags injected here -->
                </div>
            </section>

            <section class="detail-section">
                <h2>Project Links</h2>
                <div class="links-section" style="justify-content: flex-start; margin-top: 0;">
                    <a href="#" class="action-btn btn-primary" id="btn-github">
                        <i class="fab fa-github"></i> View Source Code
                    </a>
                    <a href="#" class="action-btn btn-secondary" id="btn-demo">
                        <i class="fas fa-external-link-alt"></i> Live Demo
                    </a>
                </div>
            </section>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Aryan. All rights reserved.</p>
    </footer>

    <script src="js/project-data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id');

            // Find project data
            const project = projectsData[projectId];

            const loader = document.getElementById('loading-state');
            const content = document.getElementById('project-content');

            if (project) {
                // Update Title & Meta
                document.title = `${project.title} | Aryan Gupta`;
                document.getElementById('p-title').innerText = project.title;
                document.getElementById('p-tagline').innerText = project.tagline;
                document.getElementById('p-year').innerText = project.year;
                document.getElementById('p-category').innerText = project.category;
                document.getElementById('p-tech').innerText = project.tech;

                // Dynamic SEO: Update Meta Tags
                const metaDesc = document.querySelector('meta[name="description"]');
                if (metaDesc) metaDesc.setAttribute('content', `${project.title} - ${project.tagline}. A ${project.category} project.`);

                const metaKeywords = document.querySelector('meta[name="keywords"]');
                if (metaKeywords) metaKeywords.setAttribute('content', `${project.tech}, ${project.category}, ${project.title}, Aryan Gupta Portfolio`);

                const ogTitle = document.querySelector('meta[property="og:title"]');
                if (ogTitle) ogTitle.setAttribute('content', `${project.title} | Aryan Gupta`);

                const ogDesc = document.querySelector('meta[property="og:description"]');
                if (ogDesc) ogDesc.setAttribute('content', project.tagline);

                // Update Description
                document.getElementById('p-description').innerHTML = project.description;

                // Update Features
                const featuresContainer = document.getElementById('p-features');
                featuresContainer.innerHTML = project.features.map(f => `
                        <div class="feature-card">
                            <h3>${f.title}</h3>
                            <p>${f.desc}</p>
                        </div>
                    `).join('');

                // Update Tech Stack
                const techContainer = document.getElementById('p-tech-stack');
                techContainer.innerHTML = project.techStack.map(t => `<span class="tech-tag">${t}</span>`).join('');

                // Helper function to update buttons
                const updateButtons = (githubBtnId, demoBtnId) => {
                    const btnGithub = document.getElementById(githubBtnId);
                    const btnDemo = document.getElementById(demoBtnId);

                    if (project.links.github === '#') {
                        btnGithub.style.opacity = '0.5';
                        btnGithub.style.cursor = 'not-allowed';
                        btnGithub.onclick = (e) => e.preventDefault();
                    } else {
                        btnGithub.href = project.links.github;
                    }

                    if (project.links.demo === '#') {
                        btnDemo.style.opacity = '0.5';
                        btnDemo.style.cursor = 'not-allowed';
                        btnDemo.onclick = (e) => e.preventDefault();
                    } else {
                        btnDemo.href = project.links.demo;
                    }
                };

                // Update Bottom Buttons
                updateButtons('btn-github', 'btn-demo');
                // Update Hero Buttons
                updateButtons('hero-btn-github', 'hero-btn-demo');

                // Show content
                loader.style.display = 'none';
                content.style.display = 'block';
            } else {
                // Handle Error / Invalid ID
                loader.innerHTML = '<p style="color:var(--gold-primary); text-align:center;">Project not found.<br><a href="index.html" style="color:white;">Return Home</a></p>';
            }
            // }, 500);
        });
    </script>

</body>

</html>